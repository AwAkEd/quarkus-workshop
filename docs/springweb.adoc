= Spring Web
:experimental:

=== What is Spring PetClinic Project?

PetClinic demonstrates the use of a Spring Boot with Spring MVC and Spring Data. The PetClinic has an old and varied history dating right back to the beginning of the Spring Framework. It started life as a demonstration of nearly all the common things that you could do with Spring, back when it was possible to conceive of such a demonstration. These days it is a very small slice of what you could achieve, but the community has a soft spot for it, so it's nice to see it still going after all this time, so we hope you enjoy it too.

image::spring-petclinic-landing.png[spring, 900]

=== What is Quarkus?

image::logo.png[quarkus-logo, 900]

Quarkus is a Kubernetes Native Java stack tailored for GraalVM & OpenJDK HotSpot, crafted from the best of breed Java libraries and standards. Amazingly fast boot time, incredibly low RSS memory (not just heap size!) offering near instant scale up and high density memory utilization in container orchestration platforms like Kubernetes. Quarkus uses a technique called https://quarkus.io/vision/container-first[compile time boot^] and offers a unified imperative and reactive programming model and a number of other developer features like Live Reload to bring _real joy_ to your development.

*Red Hat* offers the fully supported https://access.redhat.com/products/quarkus[Red Hat Build of Quarkus(RHBQ)^] with support and maintenance of Quarkus. In this workhop, you will use Quarkus to develop Kubernetes-native microservices and deploy them to OpenShift. Quarkus is one of the runtimes included in https://www.redhat.com/en/products/runtimes[Red Hat Runtimes^]. https://access.redhat.com/documentation/en-us/red_hat_build_of_quarkus[Learn more about RHBQ^].

Throughout this lab you'll discover how Quarkus can make your development of cloud native apps faster and more productive.

=== Getting Ready for the labs

[NOTE]
====
If you’ve already completed other labs today then you'll be familiar with the CodeReady environment and can skip down to the *Import Project* section.
====

=== If this is the first module you are doing today

You will be using Red Hat CodeReady Workspaces, an online IDE based on https://www.eclipse.org/che/[Eclipe Che^]. *Changes to files are auto-saved every few seconds*, so you don’t need to explicitly save changes.

To get started, {{ ECLIPSE_CHE_URL }}[access the CodeReady Workspaces instance^] and log in using the username and password you’ve been assigned (e.g. `{{ USER_ID }}/{{ CHE_USER_PASSWORD }}`):

image::che-login.png[cdw, 700]

Once you log in, you’ll be placed on your personal dashboard. Click on the name of the pre-created workspace on the left, as shown below (the name will be different depending on your assigned number). You can also click on the name of the workspace in the center, and then click on the green {{ USER_ID}}-namespace that says _Open_ on the top right hand side of the screen.

image::che-landing.png[cdw, 700]

After a minute or two, you’ll be placed in the workspace:

image::che-workspace.png[cdw, 900]

This IDE is based on Eclipse Che (which is in turn based on MicroSoft VS Code editor).

You can see icons on the left for navigating between project explorer, search, version control (e.g. Git), debugging, and other plugins.  You’ll use these during the course of this workshop. Feel free to click on them and see what they do:

image::crw-icons.png[cdw, 400]

[NOTE]
====
If things get weird or your browser appears, you can simply reload the browser tab to refresh the view.
====

Many features of CodeReady Workspaces are accessed via *Commands*. You can see a few of the commands listed with links on the home page (e.g. _New File.._, _Git Clone.._, and others).

If you ever need to run commands that you don't see in a menu, you can press kbd:[F1] to open the command window, or the more traditional kbd:[Control+SHIFT+P] (or kbd:[Command+SHIFT+P] on Mac OS X).

==== Import Project

Let's import our first project. Click on *Git Clone..* (or type kbd:[F1], enter 'git' and click on the auto-completed _Git Clone.._ )

image::che-workspace-gitclone.png[cdw, 900]

Step through the prompts, using the following value for **Repository URL**. If you use *FireFox*, it may end up pasting extra spaces at the end, so just press backspace after pasting:

[source,none,role="copypaste"]
----
https://github.com/RedHat-Middleware-Workshops/quarkus-workshop-labs
----

image::crw-clone-repo.png[crw,900]

The project is imported into your workspace and is visible in the project explorer:

image::crw-clone-explorer.png[crw,900]

[NOTE]
====
The Terminal window in CodeReady Workspaces. You can open a terminal window for any of the containers running in your Developer workspace. For the rest of these labs, anytime you need to run a command in a terminal, you can use the **>_ New Terminal** command on the right:

image::cmd-terminal.png[codeready-workspace-terminal, 700]
====

==== IMPORTANT: Check out proper Git branch

To make sure you're using the right version of the project files, run this command in a CodeReady Terminal:

[source,sh,role="copypaste"]
----
cd $CHE_PROJECTS_ROOT/quarkus-workshop-labs && git checkout rhtr2020
----

## Running the Spring Petclinic

Let's run the Spring Petclinic application. in a CodeReady Terminal:

[source,sh,role="copypaste"]
----
mvn spring-boot:run -f $CHE_PROJECTS_ROOT/quarkus-workshop-labs/spring-petclinic
----